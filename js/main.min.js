(function(){var CityAroundResearch,Geolocation,GeolocationProvider,Loader;CityAroundResearch=function(){function CityAroundResearch(geolocation,callback,proximity){var searchParams,that;this.geolocation=geolocation,this.callback=null!=callback?callback:function(){},this.proximity=null!=proximity?proximity:"asc",searchParams={lat:this.geolocation.getLat(),"long":this.geolocation.getLong(),results:10,proximity:this.proximity},that=this,$.get("http://thelycornweather.sebacmieu.fr/search/city.php",searchParams,function(data){return"undefined"!=typeof console&&null!==console&&console.log(data),that.callback(data)},"JSON")}return CityAroundResearch}(),window.lycorn||(window.lycorn={}),window.lycorn.CityAroundResearch=CityAroundResearch,Geolocation=function(){function Geolocation(lat,long,cityName,country,type){this.lat=lat,this.long=long,this.cityName=cityName,this.country=country,this.type=null!=type?type:"ip"}return Geolocation.prototype.getLat=function(){return this.lat},Geolocation.prototype.getLong=function(){return this.long},Geolocation.prototype.getCityName=function(){return this.cityName},Geolocation.prototype.country=function(){return this.country},Geolocation}(),window.lycorn||(window.lycorn={}),window.lycorn.Geolocation=Geolocation,GeolocationProvider=function(){function GeolocationProvider(callback){this.callback=null!=callback?callback:function(){},this.doc=jQuery(document),this.geolocationOpts={enableHighAccuracy:!0,maximumAge:0,timeout:30},navigator.geolocation?this.searchWithGPS():this.searchWithoutGPS()}return GeolocationProvider.prototype.searchWithGPS=function(){var that;that=this,navigator.geolocation.getCurrentPosition(function(position){var geocodingParams,lat,long,provider;return provider=that,lat=position.coords.latitude,long=position.coords.longitude,geocodingParams={latlng:lat+","+long,sensor:"true"},$.get("http://maps.googleapis.com/maps/api/geocode/json",geocodingParams,function(data){var city,component,country,type,_i,_len,_ref;for(component in data.results.address_components)for(_ref=component.types,_i=0,_len=_ref.length;_len>_i;_i++)type=_ref[_i],"locality"===type&&(city=component.short_name),"country"===type&&(country=component.short_name);provider.buildLocation(lat,long,city,country,"GPS")},"JSON")},this.searchWithoutGPSAsFallback(this),this.geolocationOpts)},GeolocationProvider.prototype.searchWithoutGPSAsFallback=function(scope){var context,temp;return context=scope,temp=function(){return context.searchWithoutGPS.apply(context)}},GeolocationProvider.prototype.searchWithoutGPS=function(){var provider;provider=this,$.get("http://ipinfo.io/json",function(data){var geocodingParams,lat,long,_tmp;_tmp=data.loc.split(","),lat=_tmp[0],long=_tmp[1],data.city&&data.country||(geocodingParams={latlng:lat+","+long,sensor:"true"},$.get("http://maps.googleapis.com/maps/api/geocode/json",geocodingParams,function(data){var city,component,country,type,_i,_len,_ref;for(component in data.results.address_components)for(_ref=component.types,_i=0,_len=_ref.length;_len>_i;_i++)type=_ref[_i],"locality"===type&&(city=component.short_name),"country"===type&&(country=component.short_name);provider.buildLocation(lat,long,city,country,"GPS")})),provider.buildLocation(lat,long,data.city,data.country,"IP")},"JSON")},GeolocationProvider.prototype.buildLocation=function(lat,long,city,country,type){var location;location=new lycorn.Geolocation(lat,long,city,country,type),this.callback(location)},window.lycorn||(window.lycorn={}),window.lycorn.GeolocationProvider=GeolocationProvider,GeolocationProvider}(),Loader=function(){function Loader(element){this.element=element,this.animateIncrease()}return Loader["default"]={nbItems:10,speed:1e3},Loader.prototype.animateIncrease=function(){var that;return that=this,this.element.animate({width:"100%"},"slow","swing",function(){return setTimeout(function(){return that.animateDecrease()},1e3)})},Loader.prototype.animateDecrease=function(){var that;return that=this,this.element.animate({width:"0%"},"slow","swing",function(){return setTimeout(function(){return that.animateIncrease()},1e3)})},Loader}(),window.lycornLoader=Loader,window.myApp=angular.module("myApp",[]),window.myApp.controller("SearchResults",function($scope){return $scope.locations=[],$scope.arriving=!0,$scope.doshow={},$scope.getTempIndicatorClass=function(temp){return 6>temp?"cold":22>temp?"warm":"hot"},$scope.getMetroClass=function(index){var availableClasses;return availableClasses=["panel-primary","panel-success","panel-warning","panel-danger","panel-info"],availableClasses[index%5]}})}).call(this);